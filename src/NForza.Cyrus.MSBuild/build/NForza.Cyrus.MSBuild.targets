<?xml version="1.0" encoding="utf-8"?>
<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <Target Name="CyrusGenerateTypeScript" AfterTargets="Build" Condition="'$(Cyrus-GenerateTypeScript)'=='true' and '$(DesignTimeBuild)'!='true'">
		<PropertyGroup>
			<_ThisDir>$(MSBuildThisFileDirectory)</_ThisDir>
			<_ToolDll>$([System.IO.Path]::GetFullPath('$(_ThisDir)..\tools\net10.0\typescript-generator\NForza.Cyrus.TypeScriptGenerator.dll'))</_ToolDll>
			<_DotNet>$(DOTNET_HOST_PATH)</_DotNet>
			<_DotNet Condition="'$(_DotNet)' == ''">dotnet</_DotNet>
		</PropertyGroup>
    <Message Importance="High" Text="Invoking Cyrus TypeScript generator... " />
		<Exec Command='"$(_DotNet)" "$(_ToolDll)" --output "$(Cyrus-TypeScriptFolder)" --path "$(TargetPath)" --clean' />
  </Target>

</Project>
